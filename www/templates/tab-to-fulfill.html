<ion-view view-title="To fulfill">
  <ion-nav-buttons>
    <h1 class="title"></h1>
    <button class="button button-icon ion-compose" ng-click="openModal()">
    </button>
  </ion-nav-buttons>

  <ion-content>
    <div class="item item-input-inset">
      <label class="item-input-wrapper">
        <input type="text" placeholder="Search" ng-model="query">
      </label>
    </div>

    <ion-refresher on-refresh="doRefresh()" pulling-text="Pull to refresh..." refreshing-text="Refreshing!"
      refreshing-icon="ion-load-c">
    </ion-refresher>
    
    <ion-list>
      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="bucketListItem in bucketList | filter: query | orderBy: orderProp" type="item-text-wrap" href="#/tab/to-fulfill/{{bucketListItem.key._id}}">
        <img ng-src="{{bucketListItem.key.photo}}" alt="Img">
        <h2>{{bucketListItem.key.title}}</h2>
        <p><i class="ion-record" ng-class="bucketListItem.key.deadline >= currentYear+1 ? 'positive' : (bucketListItem.key.deadline < currentYear ? 'assertive' : 'energized')"></i>  {{bucketListItem.key.deadline}}</p>
        <i class="icon ion-chevron-right icon-accessory"></i>

        <ion-option-button class="button-assertive" ng-click="remove(bucketListItem.key._id)">
          Delete
        </ion-option-button>
        <ion-option-button class="button-balanced" ng-click="complete(bucketListItem.key._id)">
          Complete
        </ion-option-button>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-view>
